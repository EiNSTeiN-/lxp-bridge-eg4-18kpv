#! /usr/bin/ruby
#
require 'socket'

heartbeat = [161, 26, 2, 0, 13, 0, 1, 193, 66, 65, 49, 57, 53, 50, 48, 51, 57, 51, 0]



read_hold_21 = [161, 26, 1, 0, 32, 0, 1, 194, 65, 66, 49, 50, 51, 52, 53, 54, 55, 56, 18, 0, 0, 3, 49, 50, 51, 52, 53, 54, 55, 56, 57, 48, 21, 0, 1, 0, 241, 72]

read_hold_12_to_15 = [161, 26, 2, 0, 37, 0, 1, 194, 66, 65, 49, 57, 50, 54, 48, 48, 50, 52, 23, 0, 1, 3, 57, 50, 57, 50, 48, 48, 54, 48, 54, 51, 12, 0, 6, 21, 5, 9, 16, 44, 53, 28,158]

test = [161, 26, 2, 0, 13, 0, 1, 193, 66, 65, 49, 57, 50, 54, 48, 48, 50, 52, 0]

server = TCPServer.new('127.0.0.1', 30000)

loop {
  client = server.accept

  #client.write(heartbeat.pack('C*'))
  client.write(test.pack('C*'))
  sleep 5

  client.close
}
